<?php/** * @link http://www.yiiframework.com/ * @copyright Copyright (c) 2008 Yii Software LLC * @license http://www.yiiframework.com/license/ */namespace common\helpers;use common\models\Images;use common\models\Picture;use yii;/** * ArrayHelper provides additional array functionality that you can use in your * application. * * @author Qiang Xue <qiang.xue@gmail.com> * @since 2.0 */class ProductHelper{    public static function GetListRand($num){           $list=array();            $array=Yii::$app->db->createCommand("SELECT id,title,description,cover FROM yii2_images  ORDER BY RAND() LIMIT ".$num)->queryAll();            foreach ($array as $key=>$value){                $value['imageUrl']= Yii::getAlias('@imagesUrl').'/'.$value['cover'];                $value['url']='/product/'.$value['id'].'.html';                $list[]=$value;            }//             $sql="SELECT id,title,description FROM yii2_article where category_id in (".$id.") ORDER BY RAND() LIMIT ".$num;        return $list;    }    public static function CategoryID_get_images($arr){        $list=$arr;        $images=Images::find()->select(['id','category_id','category_id2'])->asArray()->all();        $ids=array();        foreach ($images as $key=>$value){            if (in_array($value['category_id2'],$list)){                $ids[]=$value['id'];                continue;            }            if (!empty($value['category_id'])){            foreach (explode(',',$value['category_id']) as $k=>$v){                if (in_array($v,$list)){                    $ids[]=$value['id'];                    continue;                }            }            }        }        return $ids;    }}